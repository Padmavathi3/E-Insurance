<div class="main-content" style="background: url('assets/Images/customer-policy-form.png') no-repeat center center; background-size: cover;">
  <div class="policies-main-cnt">
    <div class="title-nav">
      <span class="home-nav" routerLink="/dashboard/customer">Home</span>
      <span class="policies-nav">/ My Policies</span>
    </div>

    <!-- Policies List -->
    <div  class="policies-cnt">
      <div class="policies-heading-cnt" *ngIf="!selectedPolicy">
        <span class="policies-heading">My Policies ({{policies.length}})</span>
      </div>
      <div class="policy-item-cnt" *ngFor="let policy of policies">
        <div class="policy-box">
          <div class="policy-details">
            <span>Coverage Amount: {{ policy.coverageAmount }}</span>
            <span>Policy Term: {{ policy.policyTerm }}</span>
            <span>Policy Type: {{ policy.policyType }}</span>
            <span>Payment Frequency: {{ policy.paymentFrequency }}</span>
            <!-- <span>Policy ID: {{ policy.policyId }}</span> -->
            <span>Customer Age: {{ policy.customerAge }}</span>
            <span>(Agent Name, Location): {{ policy.agentName }}, {{ policy.agentLocation }}</span>
            <span class="policy-name">Policy Name: {{policy.policyName}}</span>
            <span class="premium-amount">Premium Amount: Rs. {{policy.premiumAmount}}</span>
            <span class="policy-id">Policy Purchase ID: {{policy.customerPolicyId}}</span>
            <span><b>Policy Purchased On </b>{{formatDate(policy.calculationCreatedAt)}}</span>
          </div>
          <div class="action-buttons">
            <button mat-raised-button color="primary" (click)="makePayment(policy)">Payment</button>
            <button mat-raised-button color="warn" (click)="cancelPolicy(policy)">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- No Policies Message -->
    <div *ngIf="policies.length === 0 && !selectedPolicy" class="empty-policies">
      <span class="content">You have no policies</span>
    </div>

    <!-- Payment Container -->
    <div *ngIf="selectedPolicy" class="payment-container">
      <div class="payment-grid">
        <!-- First Row: Headings -->
        <span class="grid-header"><b>Policy Purchase ID</b></span>
        <span class="grid-header"><b>Premium Amount</b></span>
        <span class="grid-header"><b>Payment Date</b></span>
        
        <!-- Second Row: Data -->
        <span>{{ selectedPolicy.customerPolicyId }}</span>
        <span>Rs. {{ selectedPolicy.premiumAmount }}</span>
        <span>{{ currentDate }}</span>
    
        <!-- Third Row: Pay Button -->
        <button mat-raised-button color="primary" class="pay-button" (click)="processPayment()">Pay Amount</button>
      </div>
    </div>
      
  </div>
</div>
